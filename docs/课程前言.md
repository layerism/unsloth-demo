# 课程前言

## 课程目标
1. 了解大模型发展趋势和相关原理
2. 掌握微调训练能应用何种场合（角色扮演），Supervised FinTuning (SFT)，DPO（直接偏好对齐）
3. 掌握 LoRA 的高效微调（低秩微调方案）
4. 自己完成数据集的获取和清洗（hugginface，modelscope）
5. 训练的调参和监控（tmux + swanlab）
6. checkpoint testing（例如：训练角色扮演，然后测试数学，编程，通用推理）
7. vllm 进行部署（sglang 和 vllm，openai 协议兼容的），chattool 连接上去，进行聊天 


## 课程使用的训练框架
注意：千万不要自己安装环境
1. unsloth（单卡王者，课程的选型），候选：llama-factory（分布式，写个配置就行），HF（方便科研），verl（强化学习，GRPO）


## 项目代码位置
先拉取项目代码到自己电脑
```shell
git clone git@github.com:layerism/unsloth-demo.git 
```
使用 vscode 同步代码到 GPU 服务器，把权重和数据集 link 过来，先进入项目代码的 hugginface/hub 目录下
```shell
ln -s /home/ubuntu/llm/huggingface/hub/models--unsloth--Qwen3-1.7B
ln -s /home/ubuntu/llm/huggingface/hub/datasets--LooksJuicy--ruozhiba-punchline
```

## vscode 远程编辑代码
流程：把我的代码拉到你的电脑上，然后 vscode 开启 SFTP 同步到你的账户 remotePath 下
如何设置 SFTP 的远程编辑的配置：
1. 需要 vscode 安装 SFTP 作者：Natizyskunk
2. 在项目目录下，创建一个 .vscode 的文件夹
3. 里面创建一个 sftp.json 配置，更改 username，remotePath，配置如下：
```json
[
    {
        "name": "4090-8x",
        "host": "36.103.199.97",
        "protocol": "sftp",
        "port": 22,
        "username": "s001",
        "remotePath": "/home/2023/s001/llm/",
        "password": "s123",
        "uploadOnSave": true,
        "downloadOnOpen": false,
        "useTempFile": false,
        "openSsh": false,
        "watcher": {
            "files": "**/*",
            "autoUpload": true,
            "autoDelete": true
        },
        "ignore": [
            ".vscode",
            ".DS_Store",
            ".ipynb_checkpoints",
            "__pycache__",
            "*cache"
        ]
    }
]
```